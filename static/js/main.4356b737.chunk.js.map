{"version":3,"sources":["components/MovieItem/index.js","components/MovieItem/MovieItem.js","components/MovieTabs/index.js","components/MovieTabs/MovieTabs.js","components/App/index.js","components/App/App.js","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","deleteHandle","addMovieToWillWatch","deleteMovieFromWillWatch","btnWillWatchClasses","classNames","btn","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","id","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassByValue","App","getMovies","fetch","current_page","then","response","json","data","movies","results","total_pages","console","log","filter","item","newData","moviesWillWatch","el","updateMovieToWillWatch","prevPage","nextPage","prevProps","prevState","map","key","class","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4356b737.chunk.js","sourcesContent":["import MovieItem from './MovieItem';\r\n\r\nexport default MovieItem;","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default class MovieItem extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      willWatch: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      movie,\r\n      deleteHandle,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch,\r\n    } = this.props;\r\n\r\n    const { willWatch } = this.state;\r\n\r\n    const btnWillWatchClasses = classNames({\r\n      btn: true,\r\n      'btn-success': !willWatch,\r\n      'btn-secondary': willWatch,\r\n    });\r\n\r\n    return (\r\n      <div className=\"card border-primary\">\r\n        <img\r\n          className=\"card__img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path\r\n            || movie.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body text-white bg-primary\">\r\n          <h4 className=\"card-title\">{ movie.title }</h4>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n            <div className=\"mb-0\">Rating: {movie.vote_average}</div>\r\n            <button type = \"button\"\r\n              className = { btnWillWatchClasses }\r\n              onClick = {() => {\r\n                                                  this.setState({\r\n                                                    willWatch: !willWatch\r             \n                                     });\r\n\r\n                                                willWatch\r\n                                                    ? deleteMovieFromWillWatch(movie)\r\n                                                    : addMovieToWillWatch(movie);\r\n                                            }} >\r\n              { willWatch ? 'Remove to Watch' : 'Add to Watch' }\r\n            </button>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-sm btn-danger\"\r\n            onClick={ deleteHandle.bind(null, movie.id)\r\n          }>Delete</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import MovieTabs from './MovieTabs';\r\n\r\nexport default MovieTabs;","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport default class MovieTabs extends Component {\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (nextProps.sort_by !== this.props.sort_by);\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = value => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const getClassByValue = value => {\r\n      return classNames({\r\n        'nav-link': true,\r\n        'active': sort_by === value\r\n      });\r\n    };\r\n\r\n    return (\r\n      <ul className=\"nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={ getClassByValue('popularity.desc') }\r\n            onClick={ handleClick('popularity.desc') }\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div\r\n            className={ getClassByValue('revenue.desc')}\r\n            onClick={ handleClick('revenue.desc') }\r\n            >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <div\r\n            className={ getClassByValue('vote_average.desc') }\r\n            onClick={ handleClick('vote_average.desc') }\r\n            >\r\n            Vote avetage desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n\r\n  }\r\n}","import App from './App';\r\n\r\nexport default App;","import React, { Component } from 'react';\r\nimport MovieItem from '../MovieItem';\r\nimport MovieTabs from '../MovieTabs';\r\n\r\n\r\nimport { API_URL, API_KEY_3  } from '../../utils/api';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"revenue.desc\",\r\n      current_page: 2,\r\n      total_pages: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      prevState.sort_by !== this.state.sort_by\r\n      || prevState.current_page !== this.state.current_page\r\n    ) {\r\n      this.getMovies();\r\n    }\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.current_page}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.setState({\r\n          movies: data.results,\r\n          total_pages: data.total_pages,\r\n        });\r\n        console.log(\"App -> getMovies -> data.results\", data)\r\n      });\r\n  }\r\n\r\n  deleteHandle = id => {\r\n    const data = this.state.movies.filter(item => item.id !== id);\r\n    this.setState({\r\n      movies: data,\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const newData = this.state.moviesWillWatch.filter(el => el.id !== movie.id);\r\n    this.setState({\r\n      moviesWillWatch: newData,\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMovieToWillWatch = [...this.state.moviesWillWatch, movie];\r\n    this.setState({\r\n      moviesWillWatch: updateMovieToWillWatch,\r\n    });\r\n  };\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      sort_by: value,\r\n\r\n      current_page: 1\r\n    });\r\n  };\r\n\r\n  prevPage = () => {\r\n    this.setState(state => {\r\n      return { current_page: state.current_page - 1 };\r\n    });\r\n  };\r\n\r\n  nextPage = () => {\r\n    this.setState(state => {\r\n      return { current_page: state.current_page + 1 };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { movies, moviesWillWatch, sort_by, total_pages, current_page } = this.state;\r\n    return (\r\n      <div className=\"container pt-5\">\r\n        <div className=\"row mb-3\">\r\n          <div className=\"col-12\">\r\n            <MovieTabs updateSortBy={ this.updateSortBy } sort_by={ sort_by } />\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row\">\r\n            { movies.map(movie => {\r\n                return <div key={ movie.id } className=\"col-6 mb-4\">\r\n                <MovieItem\r\n                  movie={ movie }\r\n                  deleteHandle={ this.deleteHandle }\r\n                  deleteMovieFromWillWatch={ this.deleteMovieFromWillWatch }\r\n                  addMovieToWillWatch={ this.addMovieToWillWatch }\r\n                />\r\n              </div>\r\n              })\r\n            }\r\n            </div>\r\n            <div className=\"row ml-0 mb-4 d-flex align-items-center\">\r\n              {\r\n                (current_page > 1) && <button className=\"btn btn-info btn-xs\" onClick={ this.prevPage }>Prev</button>\r\n              }\r\n              {\r\n                (current_page < total_pages) && <button className=\"btn btn-info btn-xs ml-1\" onClick={ this.nextPage }>Next</button>\r\n              }\r\n              <div class=\"current-info ml-3\">{ current_page }/{ total_pages }</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <p>Will Watch: { moviesWillWatch.length }</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default App;","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}
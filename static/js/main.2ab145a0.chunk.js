(this.webpackJsonpsandbox2=this.webpackJsonpsandbox2||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},33:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(19),r=a.n(c),i=a(21),s=a(10),o=a(11),m=a(13),d=a(12),u=a(7),v=a(1),p=function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",{className:"mb-4"},"Not found page"),l.a.createElement("p",null,"That page wasn't found."))},h=function(e){var t=e.moviesWillWatch,a=e.deleteMovieFromWillWatch;return l.a.createElement(n.Fragment,null,l.a.createElement("h1",{className:"mb-4"},"Wishlist"),l.a.createElement(u.b,{className:"btn btn-link mb-2",to:"/react-couse"},"\u2190 Go home"),0===t.length&&l.a.createElement("p",null,"There is nothing in the wishlist."),t.length>0&&l.a.createElement("table",{className:"table table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",null,"Title"),l.a.createElement("th",{className:"text-center",style:{whiteSpace:"nowrap"}},l.a.createElement("span",{className:"text-warning"},"\u2605")," Rating"),l.a.createElement("th",{scope:"col",className:"text-danger text-center"},"Eject"))),l.a.createElement("tbody",null,t.map((function(e,t){return l.a.createElement("tr",{key:e.id},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,l.a.createElement("div",{className:"wishlist__title"},e.title)),l.a.createElement("td",{className:"text-center"},e.vote_average),l.a.createElement("th",{scope:"row",className:"text-center"},l.a.createElement("button",{"date-id":"{ item.id }",className:"btn btn-sm btn-danger",onClick:function(){return a(e)}},"\u2717")))})))))},b=a(3),g=a.n(b),E=(a(33),function(e){var t=e.movie,a=e.deleteHandle,n=e.addMovieToWillWatch,c=e.deleteMovieFromWillWatch,r=e.movieWillWatchState,i=g()({btn:!0,"btn-success":!r,"btn-secondary":r});return l.a.createElement("div",{className:"card border-muted"},l.a.createElement("div",{className:"card_img-holder"},l.a.createElement("img",{className:"card__img-top",src:"https://image.tmdb.org/t/p/w500".concat(t.backdrop_path||t.poster_path),alt:""})),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},t.title),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},l.a.createElement("div",{className:"mb-0"},"Rating: ",t.vote_average),l.a.createElement("button",{type:"button",className:i,onClick:function(){r?c(t):n(t)}},r?"Remove to Watch":"Add to Watch")),l.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:a.bind(null,t.id)},"Delete")))}),W=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.sort_by!==this.props.sort_by}},{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.updateSortBy,n=function(e){return function(){a(e)}},c=function(e){return g()({"nav-link":!0,active:t===e})};return l.a.createElement("ul",{className:"nav nav-pills"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{className:c("popularity.desc"),onClick:n("popularity.desc")},"Popularity desc")),l.a.createElement("li",null,l.a.createElement("div",{className:c("revenue.desc"),onClick:n("revenue.desc")},"Revenue desc")),l.a.createElement("li",null,l.a.createElement("div",{className:c("vote_average.desc"),onClick:n("vote_average.desc")},"Vote avetage desc")))}}]),a}(n.Component),f=a(22),N=function(e){var t=e.moviesWillWatch,a=e.sort_by,c=e.updateSortBy,r=e.paginationWillUpdate,i=e.current_page,s=e.total_pages,o=e.movies,m=e.deleteHandle,d=e.deleteMovieFromWillWatch,u=e.addMovieToWillWatch,v=e.prevPage,p=e.nextPage;return l.a.createElement(n.Fragment,null,l.a.createElement("h1",{className:"mb-4"},"Homepage"),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement(W,{updateSortBy:c,sort_by:a}))),l.a.createElement("div",{className:"row flex-row-reverse"},l.a.createElement("div",{className:"col-lg-3 col-md-12"},l.a.createElement("div",{className:"card p-2 mt-lg-5 mb-md-3_ mb-3"},"Will Watch: ",t.length)),l.a.createElement("div",{className:"col-lg-9 col-md-12"},l.a.createElement("div",{className:"row ml-0 d-flex align-items-center"},l.a.createElement(f.a,{className:"ant-pagination",onChange:r,defaultCurrent:i,current:i,defaultPageSize:1,pageSize:1,total:s})),l.a.createElement("div",{className:"row"},o.map((function(e){var a=t.findIndex((function(t){return t.id===e.id}));return l.a.createElement("div",{key:e.id,className:"col-md-6 mb-4"},l.a.createElement(E,{movie:e,deleteHandle:m,deleteMovieFromWillWatch:d,addMovieToWillWatch:u,movieWillWatchState:-1!==a}))}))),l.a.createElement("div",{className:"row ml-0 mb-4 d-flex align-items-center"},i>1&&l.a.createElement("button",{className:"btn btn-info btn-xs",onClick:v},"Prev"),i<s&&l.a.createElement("button",{className:"btn btn-info btn-xs ml-1",onClick:p},"Next"),l.a.createElement("div",{className:"current-info ml-3"},i,"/",s)))))},_=(a(34),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).getMovies=function(){fetch("".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(e.state.sort_by,"&page=").concat(e.state.current_page)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results,total_pages:t.total_pages})}))},e.deleteHandle=function(t){var a=e.state.movies.filter((function(e){return e.id!==t}));e.setState({movies:a})},e.deleteMovieFromWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a}),window.localStorage.setItem("moviesWillWatch",JSON.stringify(a))},e.addMovieToWillWatch=function(t){var a=[].concat(Object(i.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a}),window.localStorage.setItem("moviesWillWatch",JSON.stringify(a))},e.updateSortBy=function(t){e.setState({sort_by:t,current_page:1})},e.prevPage=function(){e.setState((function(e){return{current_page:e.current_page-1}}))},e.nextPage=function(){e.setState((function(e){return{current_page:e.current_page+1}}))},e.paginationWillUpdate=function(t){e.setState((function(e){return{current_page:t}}))},e.state={movies:[],moviesWillWatch:window.localStorage.getItem("moviesWillWatch")?JSON.parse(window.localStorage.getItem("moviesWillWatch")):[],sort_by:"revenue.desc",current_page:1,total_pages:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){t.sort_by===this.state.sort_by&&t.current_page===this.state.current_page||this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.current_page,a=e.movies,n=e.moviesWillWatch,c=e.sort_by,r=e.total_pages;return l.a.createElement(u.a,{className:"wrapper"},l.a.createElement("div",{className:"navbar navbar-dark bg-dark shadow-sm mb-5 navbar-expand-xl"},l.a.createElement("div",{className:"container d-flex justify-content-between"},l.a.createElement(u.b,{className:"navbar-brand d-flex align-items-center",to:"/react-couse"},l.a.createElement("strong",null,"Movies App")),l.a.createElement("nav",{className:"navbar-nav-scroll_ nav-pills"},l.a.createElement("ul",{className:"navbar-nav bd-navbar-nav flex-row"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.c,{to:"/react-couse",className:"nav-link pl-3 pr-3",activeclass:"active",exact:!0},"Homepage")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.c,{to:"/wishlist",className:"nav-link pl-3 pr-3",activeclass:"active",exact:!0},"Wishlist")))))),l.a.createElement(v.c,null,l.a.createElement(v.a,{path:"/wishlist"},l.a.createElement("div",{className:"container"},l.a.createElement(h,{moviesWillWatch:n,deleteMovieFromWillWatch:this.deleteMovieFromWillWatch}))),l.a.createElement(v.a,{path:"/react-couse",exact:!0},l.a.createElement("div",{className:"container"},l.a.createElement(N,{moviesWillWatch:n,sort_by:c,current_page:t,total_pages:r,movies:a,updateSortBy:this.updateSortBy,paginationWillUpdate:this.paginationWillUpdate,deleteHandle:this.deleteHandle,deleteMovieFromWillWatch:this.deleteMovieFromWillWatch,addMovieToWillWatch:this.addMovieToWillWatch,prevPage:this.prevPage,nextPage:this.nextPage}))),l.a.createElement(v.a,{path:"/"},l.a.createElement(p,null))))}}]),a}(n.Component));a(35),a(36);r.a.render(l.a.createElement(_,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.2ab145a0.chunk.js.map